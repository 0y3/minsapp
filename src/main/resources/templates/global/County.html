<!DOCTYPE html>
<html lang="en"
	xmls:th="http://www.thymleaf.org"
	xmls:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorator="fragments/layout">
	
	<body>
		<div layout:fragment="content" id="content_layout">
			<section class="wrapper">
		        <!--overview start-->
		        
		        <!--Breadcrumb-->
		        <div class="row">
		          <div class="col-lg-12">
		            <h3 class="page-header"><i class="fa fa-bars"></i> Countries</h3>
		            <ol class="breadcrumb">
		              <li><i class="fa fa-home"></i><a th:href="@{/index}">Home</a></li>
		              <li><i class="fa fa-bars"></i>Global</li>
		              <li><i class="fa fa-square-o"></i>Countries</li>
		            </ol>
		          </div>
		        </div>
		        
		        <!-- page start-->
		        
		        <div class="row">
		
		          <div class="col-md-12">
		            <div class="panel panel-default">
		              <div class="panel-heading">
		                <h2><i class="fa fa-flag-o red"></i><strong>Registered Countries</strong></h2>
		              </div>
		              <div class="panel-body">
		                <a class="btn btn-primary pull-right" data-toggle="modal" data-target="#new-country" title="New Country">Add Country</a>
		                <table class="table bootstrap-datatable countries">
		                  <thead>
		                    <tr>
		                      <th style="width: 1px;"></th>
		                      <th>Country</th>
		                      <th>Capital</th>
		                      <th>Code</th>
		                      <th>Action</th>
		                    </tr>
		                  </thead>
		                  <tbody th:if="${countries !='noData'}">
		                  	<tr th:each="country : ${countries}">
		                  		<!--  <td><img th:src="@{'/img/photos/' + ${country.description} +'.jpg'}" style="height:18px; margin-top:-2px;"></td>
		                  		<td th:text="${country.description}"></td>
		                  		<td th:text="${country.capital}"></td>
		                  		<td th:text="${country.code}"></td>
		                  		<td></td> -->

		                  		<td><img th:src=" @{'https://flagcdn.com/'+ ${#strings.toLowerCase(country.iso)} +'.svg'} " width="16" th:alt="${#strings.toLowerCase(country.name)}" ></td>
		                  		<!-- <td><img th:src=" @{'https://www.countryflags.io/'+ ${#strings.toLowerCase(country.iso)} +'/shiny/16.png'} " width="16" height="12" th:alt="${#strings.toLowerCase(country.iso)}" ></td>
		                  		<td><img th:src=" @{'https://flagcdn.com/16x12/'+ ${#strings.toLowerCase(country.iso)} +'.png'} " width="16" height="12" th:alt="${country.name}" ></td>
		                  		<td><img th:attr="src=@{|https://flagcdn.com/16x12/${$strings.toLowerCase(country.iso)}.png|},title=${country.name},alt=${country.name}" /></td> -->
		                  		<td th:text="${country.name}"></td>
		                  		<td th:text="${country.iso}"></td>
		                  		<td th:text="${country.phonecode}"></td>
		                  		<td></td>
		                  	</tr>
		                    
		                  </tbody>
		                  
		                  <tbody th:if="${countries == 'noData'}">
		                  	<tr>
		                  		<th colspan="5"><h3 class="text-center"> No Record</h3> </th>
		                  	</tr>
		                  </tbody>
		                </table>
		              </div>
		
		            </div>
		
		          </div>
		          <!--/col-->
		        </div>
				
		        <!-- page end-->		
		      </section>
		      
	<!-- modal-->     
	<div class="modal fade" tabindex="-1" id="new-country" aria-hidden="true" style="display: none;">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
			    	<h5 class="modal-title" id="exampleModalLabel">New Country Form</h5>
			        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">x</button>
			    </div>
                <div class="modal-body">
                    <form th:action="@{/countries/addNew}" class="form-horizontal" method="post">
			          
			          <div class="form-group">
			            <label class="col-sm-2 control-label">Name:</label>
			            <div class="col-sm-10">
			            	<input type="text" class="form-control" name="description">
			            </div>
			          </div>
			          
			          <div class="form-group">
			            <label class="col-sm-2 control-label">Capital:</label>
			            <div class="col-sm-10">
			            	<input type="text" class="form-control" name="capital">
			            </div>
			          </div>
			          
			          <div class="form-group">
			            <label class="col-sm-2 control-label">Country Code:</label>
			            <div class="col-sm-10">
			            	<input type="text" class="form-control" name="code">
			            </div>
			          </div>
			          
			          <div class="form-group">
			            <label class="col-sm-2 control-label">Continent:</label>
			            <div class="col-sm-10">
			            	<input type="text" class="form-control" name="continent">
			            </div>
			          </div>
			          
			          <div class="form-group">
			            <label class="col-sm-2 control-label">Nationality:</label>
			            <div class="col-sm-10">
			            	<input type="text" class="form-control" name="nationality">
			            </div>
			          </div>
			          
			          <div class="form-group">
	                    <div class="col-lg-offset-2 col-lg-10">
	                      <button type="submit" class="btn btn-primary">Save</button>
	                    </div>
	                  </div>
			          
			        </form><!-- .form -->
                </div><!-- .modal-body -->
            </div><!-- .modal-content -->
        </div><!-- .modal-dialog -->
    </div>
    
		</div>
	</body>
	
</html>